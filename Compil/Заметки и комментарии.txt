Лексический анализатор рабтает потоком, он выдает символ по запросу
Бнф стартует в положении, где лексер смотрит на голову
Ключевые слова должны парситься на этапе лексического анализа
Поменять копирование констант


22.03.2021 Практика
Трансляторы и интерпритаторы

var x; a: int
x := a+1;
на этапе компиляции:
	таблица имен: [x, int], [a, int]
	---------------------
	при рассмотрении БНФ:
		x cm_assign
		|
		+ cm_plus
	/		\
	a		1
cm_push_var cm_psuh_const
	---------------------
	разложить по ячейкам памяти
	mov ax .... ax //a
	mov 1  .... bx //1
	plus ax bx
	mov rx ax vx   //x

как это можно реализовать:
	у нас есть 2 числа на стеке:
		cm_plus (cm - command) числа и + лежат на стеке, начали с +
		идет рекуксвное дерево выражение, которое мы собираем на возврате
		
		cm_push_var("a") //
		cm_plus
			{
				op1:=cm_pop();
				op2:=cm_pop();
				cm_plus(op1+op2);
			}
		cm_assign_var(x)
			{
				var = pop
				["x"]=var
			}

на этапе синтацсического дерева идет разбор
чтобы выполнить +, нам нужно положить операнды на стек,
когда мы получили вершину, кладем ее на стек

трансляция происходит на обратном ходе рекрсии, которая ободит выражение

деревья хаффмана (посмотреть)
комманды асемблера просто пушим
или один раз построть дерево и присвоить операциям коды (не лучший вариант)

Нужна трансляция в промежуточный язык (выбрать LVM, .NET)
C++/CLI для компиляции под .NET

Оптимизация
x:=(a and b) or c
true||...
...||true
(false&&...)||true

x:=true or Mutable(&z);
print(z)
чистая функция - функция без побочных эффектов
const undefiened=f()||"1";